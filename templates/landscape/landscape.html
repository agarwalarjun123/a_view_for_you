{% extends 'base.html' %}
{% load static %}

{% block script_block %}
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

<link rel="stylesheet" href="{% static 'css/review.css' %}">
<link rel="stylesheet" href="{% static 'css/carousel.css' %}">
<script src="{% static 'js/carousel.js' %}"></script>
{% endblock %}

{% block title_block %}
    {{ landscape.name  }}
{% endblock %}

{% block body_block %}
    <div class="landscapes-container">
        <h3>Photo Gallery</h3>
        <!---CAROUSEL-->
        <ul class="slider">
            {% for p in photos %}
            <li>
                <img class="img-fluid img-responsive" src="{{p.image.url}}" alt="{{p.review_id}}"/>
            </li>
            {% endfor %}

        </ul>
        <!--END CAROUSEL-->

        <h3>Recent reviews</h3>

        <a href="{% url 'landscape:add_review' landscape.slug %}" > Write a review</a>
        {% if reviews %}
            {% for r in reviews %}
            <div class = 'review-result-container block'>
                <div class = 'review-result-container-content'>
                    <p>
                        {{ r.user_id }} authored a review
                        <span class="right">
                            {{ r.visit_date }}
                        </span>
                    </p>
                    <h4>{{ r.title }}</h4>
               <div class="review_row">
                    <div class="review_column">
                        <div><span class="stars-container stars-{{r.rating}}">★★★★★{{r.rating}}</span></div>
                    </div>
                    <div class="review_column">
                        <p>{{ r.description }}</p>
                    </div>
              </div>
            </div>
              </div>
            <br />
        {% endfor %}
            {%else%}
            <li><strong>There are no reviews.</strong></li>
        {%endif%}
    </div>

{% endblock %}